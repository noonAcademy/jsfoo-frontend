<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Canvas replay</title>
    <style>
      .container {
        width: 100%;
        max-width: 1300px;
        margin: 0 auto;
        position: relative;
      }

      #cool-draw {
        box-shadow: 0 0 2px #333;
        margin: 0px auto;
      }

      .control-bar {
        position: absolute;
        top: 0;
        right: 0;
        width: 60px;
      }

      .control-bar button,
      .control-bar button:focus {
        width: 100%;
        background: #fcfcfc;
        padding: 10px;
        outline: none;
      }

      .control-bar button:hover,
      .control-bar button:active {
        background: #f0f0f0;
      }

      #payload {
        background: #FFEFD5;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <canvas id="cool-draw" width='800' height='600'>
      </canvas>
      <div class="control-bar">
        <button id="clear" onclick="clearCanvas()" title="Wipe the board">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px"
            viewBox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve">
            <g>
              <polygon fill-rule="evenodd" clip-rule="evenodd" points="96.382,26.057 92.752,24.623 95.657,13.781 25.833,3 25.644,4.224    19.781,26.059 3.618,66.991 8.295,68.838 7.295,72.563 35.109,80.017 35.627,78.085 9.745,71.149 27.434,5.271 93.147,15.418    90.879,23.883 90.876,23.882 77.439,74.027 77.454,73.99 76.89,76.097 78.821,76.614 83.895,57.68  " />
              <path fill-rule="evenodd" clip-rule="evenodd" d="M69.578,66.813l0.963-0.258c1.029-0.275,1.892-0.938,2.427-1.867   c0.536-0.928,0.68-2.006,0.403-3.035l-0.902-3.37l-7.831-29.227c-0.286-1.065-1.386-1.698-2.453-1.416l-1.927,0.517   c-0.515,0.138-0.945,0.47-1.214,0.935s-0.34,1.004-0.202,1.519l1.391,5.191l2.75,10.26h-0.001l0.001,0.001l-1.932,0.518   l-2.75-10.261L54.58,22.435c-0.138-0.515-0.469-0.946-0.934-1.214c-0.453-0.262-0.977-0.332-1.477-0.209l-1.218,0.321l-0.751,0.201   c-0.515,0.138-0.945,0.47-1.214,0.935s-0.34,1.004-0.202,1.519l3.623,13.521l0,0l1.94,7.243l-1.932,0.518l-7.634-28.492   c-0.287-1.066-1.384-1.698-2.453-1.416l-1.927,0.517c-0.515,0.138-0.946,0.47-1.214,0.934c-0.268,0.465-0.34,1.004-0.202,1.519   l1.745,6.514l5.889,21.979l-1.932,0.518l-4.237-15.814l-1.651-6.164l-0.71-2.649c-0.138-0.515-0.47-0.946-0.935-1.214   c-0.465-0.27-1.004-0.341-1.519-0.203l-1.927,0.517c-0.515,0.138-0.945,0.47-1.214,0.935s-0.34,1.004-0.202,1.519l8.65,32.283   l0.278,1.039l0.227,0.846l-1.932,0.518l-0.505-1.885l-2.18-8.135c-0.713-2.661-3.461-4.248-6.121-3.54   c-0.277,0.075-0.466,0.219-0.609,0.467c-0.145,0.25-0.176,0.484-0.101,0.761l6.339,23.661l0,0l0.324,1.209   c0.275,1.029,0.939,1.891,1.867,2.427c0.928,0.535,2.006,0.681,3.035,0.403l0.964-0.258l0.193,0.723h0.001L48.68,97l27.045-7.247   l-5.629-21.008L69.578,66.813z" />
            </g>
          </svg>
        </button>
        <button id="replay" onclick="replay()" title="Replay last drawing">
          <svg xmlns:x="http://ns.adobe.com/Extensibility/1.0/" xmlns:i="http://ns.adobe.com/AdobeIllustrator/10.0/"
            xmlns:graph="http://ns.adobe.com/Graphs/1.0/" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1" x="0px" y="0px" viewBox="0 0 100 125" style="enable-background:new 0 0 100 100;" xml:space="preserve">
            <switch>
              <foreignObject requiredExtensions="http://ns.adobe.com/AdobeIllustrator/10.0/" x="0" y="0" width="1"
                height="1" />
              <g i:extraneous="self">
                <g>
                  <path d="M44.1,36.8c-2.5-1.5-5.8,0.3-5.8,3.3v26.5c0,3,3.2,4.8,5.8,3.3l21.9-13.2c2.4-1.5,2.4-5,0-6.5L44.1,36.8z" />
                  <path d="M87.8,30.2c-1.6-2.5-4.9-3.4-7.4-1.8c-2.6,1.6-3.4,4.9-1.8,7.6c3.6,5.9,5.4,13.1,4.7,20.7c-1.6,16.1-14.8,28.9-31,30     c-19.6,1.3-35.9-14.3-35.7-33.7c0.2-18,14.9-32.8,32.8-33.1c1,0,1.9,0,2.9,0.1v4.2c0,1.7,1.9,2.7,3.3,1.8l15.6-9.7     c1.3-0.8,1.3-2.8,0-3.6L55.5,2.8c-1.4-0.9-3.3,0.1-3.3,1.8v4.4C51.5,9,50.8,9,50,9C24.5,9,3.9,30.7,5.9,56.6     C7.5,78.3,25,95.8,46.6,97.4c25.9,1.9,47.7-18.6,47.7-44.1C94.3,44.8,91.9,36.9,87.8,30.2z" />
                </g>
              </g>
            </switch>
          </svg>
        </button>
        <button id="shred" onclick="shred()" title="Shred last drawing">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px"
            viewBox="0 0 100 125" enable-background="new 0 0 100 100" xml:space="preserve">
            <g>
              <polygon points="60.321,34.413 60.321,21.232 73.5,34.413  " />
            </g>
            <polygon points="73.5,38.5 73.5,38.333 73.5,36.406 58.316,36.406 58.316,21.232 56.316,21.232 41.316,21.232 26.5,21.232   26.5,27.001 26.5,31.243 26.5,38.333 26.5,48.333 26.5,52.667 73.5,52.667 " />
            <polygon points="19.945,53.667 19.945,56.333 26.5,56.333 26.5,78.242 26.5,78.768 29.351,78.768 29.351,56.333 31.39,56.333   31.39,75.33 34.212,75.33 34.212,56.333 36.253,56.333 36.253,78.768 39.077,78.768 39.077,56.333 41.113,56.333 41.113,75.33   43.937,75.33 43.937,56.333 45.977,56.333 45.977,78.768 48.8,78.768 48.8,56.333 50.839,56.333 50.839,78.768 53.663,78.768   53.663,56.333 55.7,56.333 55.7,75.33 58.525,75.33 58.525,56.333 60.563,56.333 60.563,78.768 63.386,78.768 63.386,56.333   65.427,56.333 65.427,75.33 68.249,75.33 68.249,56.333 70.289,56.333 70.289,78.768 73.5,78.768 73.5,78.242 73.5,74 73.5,56.333   80.055,56.333 80.055,53.667 " />
          </svg>
        </button>
      </div>
      <div id="distance-calculator">

      </div>
      <label><input type="checkbox" id="show-payload" onchange="showPayload = !showPayload; displayDistance()">Show
        stored
        points </label>
      <pre id="payload">

      </pre>
    </div>
    <script src="./replay-canvas.js"></script>
  </body>

</html>
